image:https://travis-ci.org/akhampariya/blockchainpaper.svg?branch=master["Build Status", link="https://travis-ci.org/akhampariya/blockchainpaper"]

= Blockchain - Technical and business perspective
:showtitle:
:page-title: Blockchain - Technical and business perspective
:page-description: This is a report compiling the study on blockchain from technical and business perspective

== Introduction

Blockchain, the keyword itself implied series of blocks and assumed that blocks would have some information added to them. Distributed Ledger Technology
The blockchain is not a strange keyword anymore in this era; everyone talks about it in their daily life.
However, not everyone can understand blockchain clearly and explain the whole concept, so in a line, it is - "Series of blocks with linked cryptographic hashes in a chronological way."

Most of the people think - Blockchain and Bitcoin[1] are same! Yes, they feel like that. Well, it's not the case they different, blockchain is an underlying concept of Bitcoin.
Bitcoin made debut in 2009 and got attention from every tech-savvy over the globe as it was a system using blockchain and p2p network, and proposing a solution to resolve double spending problem[2] and enable borderless electronic payment transactions. It was a classic peer to peer transaction system owned and supported by the developer community and public. After 2009, when Bitcoin was struggling yet rising in the market, other incubator projects were in progress which could overcome potential problems faced in bitcoin system and provide faster transactions for electronic payment transactions. Also, tech pioneers started implementing blockchain in other fields such as real estate, healthcare, and education, etc. I will explain all these as we go through this document. 

=== Blockchain origins

The origins of blockchain technology can be traced to 1991 when Stuart Haber and W. Scott Stornetta represented the initial effort on a cryptographically secured series of blocks. In 1992, they took advantage of Merkle trees and combined it into the design resulting in a new enhanced system which allowed to collect several documents in a block, and several blocks are linked together building a chain.

Well, that was long ago. At present, it wouldn't be wrong to say that the blockchain technology gained significance in 2008 when a mysterious person named "Satoshi Nakamoto" came up with the Bitcoin white paper. Satoshi Nakamoto proposed a practical approach to solving the problem of double spending using same blockchain technology. Another fact which still amazes people is that nobody knows who Satoshi Nakamoto was and its still a mystery.

=== The concept

The key term is distributed ledger technology (DLT), which includes blockchain and smart contracts. Distributed ledger is a type of data structure within a block. 
The blockchain is a chronological chain of blocks, in which each block had a set of multiple transactions and added to the chain including timestamp and cryptographic hash, ultimately providing immutable records for all the transactions. 

The block contains bundled transaction records, a reference to the previous block, proof of work and timestamp. The blockchain can reside across multiple computing devices, generally spread across locations or regions to form a distributed peer to peer network and it uses consensus algorithm to provide immutability.

==== Blockchain - DataStorage

We will have a look at blockchain and block data depiction as below - 

.Blockchain (licensed under Creative Commons Attribution-Share-Alike 3.0 Unported, retrieved from Wikipedia)"Blockchain formation. The main chain (black) consists of the longest series of blocks from the genesis block (green) to the current block. Orphan blocks (purple) exist outside of the main chain."[Wikipedia]

[#img-blockchain]
[caption="Figure 1: ",link=https://upload.wikimedia.org/wikipedia/commons/9/98/Blockchain.svg]
image::https://upload.wikimedia.org/wikipedia/commons/9/98/Blockchain.svg[]


.Bitcoin Block Data (licensed under Creative Commons Attribution-Share-Alike 3.0 Unported, retrieved from Wikipedia)
[#img-blockdata]
[caption="Figure 2: ",link=https://upload.wikimedia.org/wikipedia/commons/thumb/5/55/Bitcoin_Block_Data.svg/900px-Bitcoin_Block_Data.svg.png]
image::https://upload.wikimedia.org/wikipedia/commons/thumb/5/55/Bitcoin_Block_Data.svg/900px-Bitcoin_Block_Data.svg.png[center]


The block data gives us an overview of all the things inside a block. As you can see that block 11 contains transactions that are hashed and bundled called tx_root,  previous hash to block 10, a timestamp and nonce (proof of work). Tx_root is a Merkle tree, which contains hashes of all the transactions. 

==== Blockchain - Data Distribution

Distributed ledger technologies like blockchain work on the peer to peer (p2p) network models, meaning every peer has same data and updates will be applied to all of them. 

This is more efficient than client-server architecture and no central control over changing states of the ledger. 



.A peer-to-peer (P2P) network in which interconnected nodes ("peers") share resources amongst each other without the use of a centralized administrative system(licensed under Creative Commons Attribution-Share-Alike 3.0 Unported, retrieved from Wikipedia)
[#img-p2p]
[caption="Figure 3: ",link=https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/P2P-network.svg/119px-P2P-network.svg.png]
image::https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/P2P-network.svg/119px-P2P-network.svg.png[]

==== Blockchain - Consensus 

The consensus is the process of achieving agreement among the network participants as to the correct state of data on the system, and it has been studied for many years from the distributed system's perspective. 

In the blockchain, as multiple participants are adding blocks, it may be you see different versions of the same block. For resolving these conflicts, the consensus algorithm varies with varying implementations of the blockchain. In Bitcoin, its determined by using the most extended chain rule, i.e., Proof of Work. There are others, like the Proof of Burn, Proof of Stake,  Proof of Capacity, Proof of Elapsed Time, and many others, it all depends on the unique requirements of that blockchain system. Let's have an in-depth look into all of them - 

* Proof of work (PoW)
PoW is used in bitcoin, and the core design is to share the accounting rights and rewards through the hashing power rivalry between the nodes in the peer network. 
Based on the data of the prior block, the various nodes calculate the explicit solution of a mathematical problem. Itâ€™s challenging to solve the math problem. The first node that solves this math problem can produce the following block and get a specific amount of
Bitcoin reward. 

Satoshi Nakamoto studied HashCash and designed
this mathematics problem in bitcoin. Steps in this process are as follows - 

** Get the difficulty: Mining algorithm will see the hash rate of the whole network and adjust difficulty value accordingly.

** Collect transactions: Bundle all pending transactions and calculate the Merkle Root of these transactions. And put this in a new block with the 256-bit hash value of the preceding block, the current target hash value, Nonce arbitrary number and other required information.

** Calculating: Produce double SHA 256 in collect transactions steps by traversing the nonce number between 0 to 232 in step 2. The block can be announced if the calculated hash is less than or equal to the target value. Later verification with others nodes take place, and accounting is done. 

** Restarting:  Restarting is the way to calculate the hash again by previous step(collect transactions) if node can't do it in given time. If any other node does this already, a process begins from the first step(Get difficulty) then. 

Proof of work requires a lot of energy, and the possible threat to the blockchain system, because it can alter blockchain if some peers in the network own 51% of the ledger as all nodes trust the most extended chain in the network.




.source - https://www.netguardians.ch
[#pow]
[caption="Figure 4: ",link=https://static1.squarespace.com/static/551aff08e4b037a3bf1ac8c0/t/585bfb9bd2b857c3325a6c96/1482423207242/?format=750w]
image::https://static1.squarespace.com/static/551aff08e4b037a3bf1ac8c0/t/585bfb9bd2b857c3325a6c96/1482423207242/?format=750w[]

.source - https://cryptographics.info
[#pow]
[caption="Figure 5: ",link=https://cryptographics.info/wp-content/uploads/2018/01/resized/1224/0/65/0/0/0/PoW.png]
image::https://cryptographics.info/wp-content/uploads/2018/01/resized/1224/0/65/0/0/0/PoW.png[]

* Proof of Stake (PoS)
PoS was mentioned in the first bitcoin project, but it
wasn't used because of the robustness and other reasons. 
The initial application of PoS is PPCoin. The concept of this PoS algorithm is based on the age of coin. The coin age is calculated by multiplying its value by the period after it was produced. 
The longer any node keeps the coins, the more advantages it can get in the peer network. Coin holders will also receive a certain reward according to the how long they hold these coins.

PoS promotes the coins dwellers to increase the holding time. With the idea of coin age, the blockchain is no longer entirely relying on the PoW and efficiently solves problems of PoW. Ultimately, PoS improves the security of blockchain with the increasing value in the blockchain. The hackers or malicious peers need to acquire a massive number of coins and hold them long enough to attack. 

.source - https://cryptographics.info
[#pow]
[caption="Figure 6: ",link=https://cryptographics.info/wp-content/uploads/2018/01/resized/1224/0/65/0/0/0/PoS.png]
image::https://cryptographics.info/wp-content/uploads/2018/01/resized/1224/0/65/0/0/0/PoS.png[]

* Delegated proof of stake (DPOS )

Satoshi Nakamoto initially designed bitcoin in such a way that participants could use the CPU power to mine and hashing power could match the peer nodes in the network. The idea behind this was to give each node equal opportunity to participate in the decision-making of the blockchain. As the technology evolved and bitcoin is rising, people came up with special mining machines. Owning multiple of such machine gives you more hashing power, and ordinary miners can rarely create any new blocks. 

Top N nodes are elected in the network which has higher stakes and hashing power(At least 50% stakeholders would believe that enough decentralization is there)to have accounting rights and create blocks. 
The DPoS seems to be more power-saving and efficient than PoS and PoW.

.source - https://cryptographics.info
[#pow]
[caption="Figure 7: ",link=https://cryptographics.info/wp-content/uploads/2018/01/resized/1224/0/65/0/0/0/DPoS.png]
image::https://cryptographics.info/wp-content/uploads/2018/01/resized/1224/0/65/0/0/0/DPoS.png[]


* Practical Byzantine Fault Tolerance (PBFT)

Practical Byzantine Fault Tolerance could be an excellent method to resolve the transmission errors. This consensus algorithm works on communication between the master node and client node, and has five stages as below - 

** Request
The master node creates a timestamp for the request coming from the client node.

** Pre-Prepare
The master node registers the request message came from the client node, assign an order number and broadcasts a pre-prepared message other server nodes. They determine whether to accept or reject the request.

** Prepare
If any node accepts the request, it broadcasts a prepare message to all the other nodes and receives the prepare messages from the other nodes. If the majority of nodes accept the invitation, they will move to commit stage.

** Commit
All nodes in commit state will send commit message to each other. In the meantime, if a server node receives 2f+1 commit messages, it could consider that maximum nodes agree to accept the request, and executes the instructions within request message.

** Reply
Once instructions are executed, server node needs to respond to the client node. If the client could not get the reply due to network delay server nodes will have the request held, or if instructions have been executed already, server nodes only need to transmit the reply message repeatedly.



* Raft

Raft algorithm was proposed in 2013 by Standford's Ongaro and others. Raft attains the same effect as Paxos(which was hard to understand in 90's) and is more suitable for engineering implementation.

Raft cluster contains five server nodes, and each node will have three states, i.e., leader, follower, and candidate. The leader handles all requests from clients. Out of five, maximum two nodes can crash at the same time, and three will work in the cluster


.source -https://blog.acolyer.org/2015/03/12/in-search-of-an-understandable-consensus-algorithm/
[#pow]
[caption="Figure 8: ",link=https://blog.acolyer.org/2015/03/12/in-search-of-an-understandable-consensus-algorithm/]
image::https://adriancolyer.files.wordpress.com/2015/03/raft.jpg[]

==== Blockchain - Read/Write
As its a distributed ledger, everyone, who owns a decent computer with enough power, is allowed to use the source code and read-write ledger state.

However, these can be controlled based on what kind of blockchain you are using, i.e., permissioned or permissionless. Bitcoin is a permissionless blockchain technology; anyone can download and start using it.

===== Permissionless blockchain
The permissionless blockchain is publicly owned blockchain network, where anyone and can join the network without any signup process or verification and start contributing to reading/writing process of the ledger.  Bitcoin is widely known example for such blockchain, and there are more.

===== Permissioned blockchain
The permissioned blockchain is private blockchain where membership is required in some form.  To use permissioned blockchain network, we need to meet some predefined criteria. 
Permissioned blockchains are generally company owned. 

===== Public vs Private 
Now we know that two kinds of blockchains are there already. These can be further categorized based on the access provided to users in the network. A Permissionless blockchain may be public or private. Similarly, a permissioned blockchain can be public or private. 

=== Bitcoin

Bitcoin, the name is well suited and catch attention from tech-savvy people. I have already discussed a little bitcoin earlier in this paper. 

Bitcoin tales started in 2008 when Satoshi Nakamoto, proposed a solution to solve double spending problem and ditch central authorities those who take over the transaction from our very hands and take much time to process along with a fee.

=== Why did we need it? or not 

Earlier when we did not have any currency, people used to trade stuff like crops, goods, etc. and fulfill their daily needs. But later on, the concept of currency was developed. It evolved and led to paper money in exchange for gold with world bank.  Later on, keeping gold was not an option anymore, and government can print currency whenever in need. Printing money wasn't a problem, but it caused to inflection and became invaluable over time. What we could purchase with 1 Unit is way costly nowadays. 

Another problem was that people were stacking money in banks and banks could lend the same money up to 90% back to people. These financial institutions were acting as a central authority to circulate cash within society, and all the transactions, going through the are chargeable. This ultimate business model was efficient for financial institutions but not good for people who need privacy and security. 
Satoshi Nakamoto, rescued us by proving a practical approach to solve these problems.

In the financial sector, Bitcoin is the very first application to demonstrate tremendous potential. However, it also attracts government authorities to utilize such powerful technology and implement blockchain in a centralized manner. It may be for currency or maintaining other government affairs. Similarly, other tech giants and financial institutes are also exploring blockchain. 

Bitcoin solves two problems - Double spending and Byzantine Generals problem. Double spending refers to idea where people or any institute reuses the currency in more than one transaction at the same time. When using the traditional money, double spending isn't happening but if financial institutions maintain their ledgers and can produce this scenario all the time. Double spending can also be solved by internet transactions where centralized trusted institutions are used. 

The other problem - Byzantine generals problem is related to distributed systems. In a distributed network, data amongst nodes can be distributed in peer to peer network, but there are chances that data could be attacked by hackers or malicious users to alter contents of data, compromising data consistency on nodes in the peer network. To identify tempered information, normal nodes would have to validate this data across other nodes, resulting in the need for corresponding consensus algorithm. 

Other things to consider - 
Privacy?
Its okay to trade with cash as you don't need to tell anybody how much or less you are paying. But with if you want to pay the more significant amount, you would probably need to use banks or any other institution to make that transaction.  Suppose I want to pay $2000 to my friend, using bank and banks will know how much I have paid to whom. 

No privacy at all ...

But, with bitcoin, nobody knows anything except two parties involved in the exchange.

Fees?
Suppose, I want to send money to some friend in India, I have to go through my bank/local reserve bank/federal reserve/international wire system and at last recipients bank. At each step, there will be a small fee applied to the transaction as no institution will do it for free. 

But, with bitcoin, I have to pay a small fee once not twice or thrice for my transaction no matter what.

Human Error?
People tend to make mistakes so they can send money to the wrong account, or the bank system could be compromised.
Or, there may be chances that government prints money without letting you know. The currency flow in the market will increase, and ultimately the value will be down. 

But with bitcoin, there is a limited number of coins supplied in the network. only 21,000,000 coins.

Who is backing paper money?

Trust. 
No more comments on this. 

Bit resolves all these problems faced by us. But there are some limitations and area of improvement for bitcoin, and new alternatives are born, in the market. 

=== Etherium



=== Zcash


=== Others

=== Complexity

=== Use cases

=== Handson